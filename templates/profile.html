
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Member Profile</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}">
    
</head>
<body>
 <form  method="POST" action="/update-profile" class="mt-4">
    <div class="container">
        <div class="profile-container">
            <div class="profile-header">
                <h1 class="profile-name">Laobuddy</h1>
                <p class="profile-username" id="usernameDisplay">{{ user.username }}</p>
                <div class="member-since">Member since September 2025</div>        
            <div class="profile-content">
                <h2 class="section-title">Personal Information</h2>
                <div class="info-card">
                    <div class="info-row">
                        <span class="info-label">First Name</span>
                        <input type="text" class="form-control short-input" name="firstName" value="{{ user.first_name }}" required>

                    </div>
                    <div class="info-row">
                        <span class="info-label">Last Name</span>
                        <input type="text" class="form-control short-input" name="lastname" value="{{ user.last_name}}" required>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Email</span>
                        <input type="text" class="form-control short-input" name="email" value="{{ user.email}}" required>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Username</span>
                        <input type="text" class="form-control short-input" name="username" value="{{ user.username}}" required>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Birthday</span>
                        <input type="date" name="birthday" class="form-control short-input" value="{{ user.birthday}}" required>

                    </div>

                    <div class="info-row">
                      <label class="info-label" for="gender">Gender</label>
                      <select class="form-control short-input" name="gender" id="gender" required>
                        <option value="">Select gender</option>
                        <option value="male" {% if user.gender == 'male' %}selected{% endif %}>Male</option>
                        <option value="female" {% if user.gender == 'female' %}selected{% endif %}>Female</option>
                      </select>
                    </div>

                </div>

                <h2 class="section-title">Location</h2>
                <div class="info-card">
                    <div class="info-row">
                        <span class="info-label">Country</span>
                        <span class="info-value" id="countryDisplay">{{ user.country }}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">City</span>
                        <span class="info-value" id="cityDisplay">{{ user.city }}</span>
                    </div>
                </div>

                <h2 class="section-title">Account Status</h2>
                <div class="info-card">
                    <div class="info-row">
                        <span class="info-label">Status</span>
                        <span class="status-badge status-active">Active</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Last Login</span>
                        <span class="info-value" id="lastLoginDisplay">Today at 3:30 PM</span>
                    </div>
                </div>

                <div class="actions-section">
                  <a href="{{ url_for('edit_profile') }}" class="btn btn-edit">Edit Profile</a>
                  <a href="{{ url_for('logout') }}" class="btn btn-secondary">Logout</a>
                </div>


            </div>
        </div>
    </div>
     
    </form></div>
   

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        // Function to load user data (in a real app, this would come from the server)
        function loadUserData() {
            // Check if we have user data in localStorage (from signup/login)
            const userData = localStorage.getItem('currentUser');
            if (userData) {
                const user = JSON.parse(userData);
                updateProfileDisplay(user);
            } else {
                // Default demo data if no user data is available
                const demoUser = {
                    firstName: 'John',
                    lastName: 'Doe',
                    username: 'johndoe',
                    email: 'john.doe@example.com',
                    birthday: '1990-01-15',
                    gender: 'male',
                    country: 'US',
                    city: 'New York'
                };
                updateProfileDisplay(demoUser);
            }
        }

        // Function to update the profile display with user data
        function updateProfileDisplay(user) {
            document.getElementById('fullName').textContent = `${user.firstName} ${user.lastName}`;
            document.getElementById('usernameDisplay').textContent = `@${user.username}`;
            document.getElementById('firstNameDisplay').textContent = user.firstName;
            document.getElementById('lastNameDisplay').textContent = user.lastName;
            document.getElementById('emailDisplay').textContent = user.email;
            document.getElementById('usernameInfo').textContent = user.username;
            document.getElementById('genderDisplay').textContent = user.gender;
            document.getElementById('cityDisplay').textContent = user.city;
            
            // Format birthday
            if (user.birthday) {
                const date = new Date(user.birthday);
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                document.getElementById('birthdayDisplay').textContent = date.toLocaleDateString('en-US', options);
            }
            
            // Convert country code to full name (basic mapping)
            const countryNames = {
                'US': 'United States',
                'CA': 'Canada',
                'GB': 'United Kingdom',
                'AU': 'Australia',
                'DE': 'Germany',
                'FR': 'France',
                'IT': 'Italy',
                'ES': 'Spain',
                'NL': 'Netherlands',
                'SE': 'Sweden',
                'NO': 'Norway',
                'DK': 'Denmark',
                'FI': 'Finland',
                'JP': 'Japan',
                'KR': 'South Korea',
                'CN': 'China',
                'IN': 'India',
                'BR': 'Brazil',
                'MX': 'Mexico',
                'AR': 'Argentina',
                'CL': 'Chile',
                'CO': 'Colombia',
                'PE': 'Peru',
                'ZA': 'South Africa',
                'NG': 'Nigeria',
                'EG': 'Egypt',
                'KE': 'Kenya'
            };
            
            const countryName = countryNames[user.country] || user.country;
            document.getElementById('countryDisplay').textContent = countryName;
            
            // Update avatar with first letter of first name
            const avatarLetter = user.firstName ? user.firstName.charAt(0).toUpperCase() : 'ðŸ‘¤';
            document.getElementById('avatarDisplay').textContent = avatarLetter;
            
            // Update last login to current time
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { 
                hour: 'numeric', 
                minute: '2-digit',
                hour12: true 
            });
            document.getElementById('lastLoginDisplay').textContent = `Today at ${timeString}`;
        }

        

     

            // This function inserts the form line into the page when called
      function showFormLine() {
        document.getElementById("formContainer").innerHTML =
          '<form id="hiddenContent" method="POST" action="/update-profile" class="mt-4">';
      }


        
    </script>
</body>
</html>